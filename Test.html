
<!DOCTYPE html>
<html>
<body>
<button onclick="getLocation()">C Try It</button>
<div id="demo"></div>
<div id="dist"></div>
<canvas id="myCanvas" width="960" height="600"
style="border:2px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>


<script>
// This needs to be hosted on https.

var gps = document.getElementById("demo");
var delta = document.getElementById("dist");
var lat = 0;
var lon = 0;
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.fillStyle = "#FF0000";
ctx.fillRect(480,280,10,10);
var x = 485.0;
var y = 285.0;
var dx = 0.0;
var dy = 0.0;

ctx.beginPath();
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.moveTo(x,y);
//    ctx.rotate(pos);
    ctx.lineTo(480,275);
    ctx.stroke();
 

function getLocation() {
 //   alert("hi")
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
        
    } else { 
        gps.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    gps.innerHTML = "B Latitude: " + position.coords.latitude + 
    ", Longitude: " + position.coords.longitude;
    
 
    dx = (lon - position.coords.longitude)*111111;
    dy = (lat - position.coords.latitude)*111111;
    
    delta.innerHTML = "N-S: " + dy +
                  " E-W: " + dx
   if (dx < 1000) {
        
        
        var ctx2 = canvas.getContext("2d");
        ctx2.fillStyle = "#FF0000";
        ctx2.fillRect(480,280,10,10);
        ctx2.beginPath();
        ctx2.lineWidth = 2;
        ctx2.lineCap = "round";
        ctx2.moveTo(200,300);
        ctx2.lineTo(220 + dx, 320 + dy);
        ctx2.stroke();
    
    }
  //      x += dx;
  //      y += dy:
   
 
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    
}
</script>

</body>
</html>


